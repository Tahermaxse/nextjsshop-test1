{
  "name": "authcard-08",
  "type": "registry:block",
  "registryDependencies": [
    "button",
    "input"
  ],
  "dependencies": [
    "lucide-react",
    "@hookform/resolvers/zod",
    "zod",
    "react-hook-form",
    "react-icons"
  ],
  "files": [
    {
      "type": "registry:block",
      "content": "\"use client\";\r\n\r\nimport { useState, useRef, KeyboardEvent, ClipboardEvent } from \"react\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Si1Password } from \"react-icons/si\";\r\nimport Link from \"next/link\";\r\n\r\nconst formSchema = z.object({\r\n  code: z\r\n    .string()\r\n    .min(6, { message: \"OTP must be 6 digits.\" })\r\n    .max(6, { message: \"OTP must be 6 digits.\" }),\r\n});\r\n\r\ntype FormValues = z.infer<typeof formSchema>;\r\n\r\nexport default function AuthCard08() {\r\n  const { toast } = useToast();\r\n  const [otpValues, setOtpValues] = useState<string[]>(Array(6).fill(\"\"));\r\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([]);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<FormValues>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      code: \"\",\r\n    },\r\n  });\r\n\r\n  const handleChange = (index: number, value: string) => {\r\n    if (value.length > 1) {\r\n      const valueArray = value.split(\"\").slice(0, 6);\r\n      const newOtpValues = [...otpValues];\r\n      \r\n      for (let i = 0; i < valueArray.length; i++) {\r\n        if (index + i < 6) {\r\n          newOtpValues[index + i] = valueArray[i];\r\n        }\r\n      }\r\n      \r\n      setOtpValues(newOtpValues);\r\n      setValue(\"code\", newOtpValues.join(\"\"));\r\n      \r\n      const nextIndex = Math.min(index + valueArray.length, 5);\r\n      inputRefs.current[nextIndex]?.focus();\r\n    } else {\r\n      const newOtpValues = [...otpValues];\r\n      newOtpValues[index] = value;\r\n      setOtpValues(newOtpValues);\r\n      setValue(\"code\", newOtpValues.join(\"\"));\r\n      \r\n      if (value && index < 5) {\r\n        inputRefs.current[index + 1]?.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index: number, e: KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === \"Backspace\") {\r\n      if (!otpValues[index] && index > 0) {\r\n        inputRefs.current[index - 1]?.focus();\r\n      }\r\n    } else if (e.key === \"ArrowLeft\" && index > 0) {\r\n      inputRefs.current[index - 1]?.focus();\r\n    } else if (e.key === \"ArrowRight\" && index < 5) {\r\n      inputRefs.current[index + 1]?.focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e: ClipboardEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    const pasteData = e.clipboardData.getData(\"text\").trim().slice(0, 6);\r\n    if (pasteData) {\r\n      const newOtpValues = [...otpValues];\r\n      const pasteArray = pasteData.split(\"\");\r\n      \r\n      for (let i = 0; i < 6; i++) {\r\n        newOtpValues[i] = pasteArray[i] || \"\";\r\n      }\r\n      \r\n      setOtpValues(newOtpValues);\r\n      setValue(\"code\", newOtpValues.join(\"\"));\r\n  \r\n      const lastFilledIndex = newOtpValues.findIndex(value => !value);\r\n      const focusIndex = lastFilledIndex === -1 ? 5 : lastFilledIndex;\r\n      inputRefs.current[focusIndex]?.focus();\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (data: FormValues) => {\r\n    try {\r\n      // Simulate API call\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n\r\n      console.log(\"Form submitted:\", data);\r\n\r\n      toast({\r\n        title: \"Login successful\",\r\n        description: \"You have successfully logged in.\",\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Invalid email or password. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-[400px] rounded-[22px] bg-[#ffffff] p-6 shadow-md dark:bg-zinc-800 sm:p-8\">\r\n      <div className=\"mb-6 flex flex-col items-center\">\r\n        <div className=\"relative flex items-center justify-center h-24 w-24\">\r\n          <div\r\n            className=\"absolute inset-0 rounded-full bg-gradient-to-b from-neutral-300/40 via-white/10 to-white/0 dark:from-white/10 dark:via-black/10 dark:to-black/0\"\r\n          />\r\n          <div className=\"relative z-10 flex h-12 w-12 items-center justify-center rounded-full bg-white shadow-sm ring-1 ring-zinc-200\">\r\n            <Si1Password className=\"h-5 w-5 text-zinc-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">\r\n          Enter Verification Code\r\n        </h1>\r\n        <p className=\"mt-1 text-center text-sm text-gray-600 dark:text-zinc-400\">\r\n          We've sent a code to{\" \"}\r\n          <span className=\"font-medium\">hello@example.com</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mb-6 flex items-center justify-center\">\r\n        <div className=\"relative w-full\">\r\n          <hr />\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n        <div className=\"space-y-1\">\r\n          <label\r\n            htmlFor=\"code-0\"\r\n            className=\"text-sm font-medium text-gray-700 dark:text-zinc-300\"\r\n          >\r\n            Verification Code\r\n          </label>\r\n        \r\n          <input\r\n            type=\"hidden\"\r\n            {...register(\"code\")}\r\n          />\r\n          \r\n          <div className=\"flex justify-between gap-2\">\r\n            {[0, 1, 2, 3, 4, 5].map((index) => (\r\n              <div key={index} className=\"flex-1\">\r\n                <Input\r\n                  id={`code-${index}`}\r\n                  ref={(el) => (inputRefs.current[index] = el)}\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  maxLength={1}\r\n                  value={otpValues[index]}\r\n                  onChange={(e) => handleChange(index, e.target.value)}\r\n                  onKeyDown={(e) => handleKeyDown(index, e)}\r\n                  onPaste={index === 0 ? handlePaste : undefined}\r\n                  className={`\r\n                    ${errors.code ? \"border-red-500\" : \"border-gray-300 dark:border-zinc-700\"}\r\n                    bg-white py-2 text-center font-medium text-lg dark:bg-zinc-800 rounded-lg\r\n                  `}\r\n                  aria-label={`Digit ${index + 1} of verification code`}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {errors.code && (\r\n            <p className=\"mt-1 flex items-center gap-2 text-sm font-medium text-red-500 border-l-2 border-red-500 pl-2 rounded-md bg-red-500/5\">\r\n              {errors.code.message}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"mt-6 w-full rounded-lg from-blue-600 to-blue-500 text-white bg-gradient-to-t \r\n    border border-b-2 border-blue-900/40 shadow-md shadow-blue-900/20 \r\n    ring-1 ring-inset ring-white/25 \r\n    transition-[filter] duration-200 hover:brightness-110 active:brightness-90 \r\n    dark:shadow-[inset_0_1px_3px_0_rgba(255,255,255,0.1)] \r\n    dark:border-x-0 dark:border-t-0 dark:border-blue-900/50 \r\n    dark:ring-white/5 dark:from-blue-700 dark:to-blue-600\"\r\n          disabled={isSubmitting}\r\n        >\r\n          {isSubmitting ? \"Processing...\" : \"Submit Code\"}\r\n        </Button>\r\n\r\n        <div className=\"mt-4 whitespace-nowrap text-center text-[12px] text-gray-600 dark:text-zinc-400\">\r\n          Experiencing issues receiving the code?{\" \"}\r\n          <Link href=\"\" className=\"text-blue-600 hover:underline\">\r\n            Resend Code\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}",
      "path": "block/AuthCard/authcard-08/authcard.tsx",
      "target": "components/block/AuthCard/authcard-08/authcard.tsx"
    }
  ]
}